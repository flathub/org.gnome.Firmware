{
    "app-id": "org.gnome.Firmware",
    "sdk": "org.gnome.Sdk",
    "runtime": "org.gnome.Platform",
    "runtime-version": "48",
    "command": "gnome-firmware",
    "finish-args": [
        "--device=dri",
        "--share=ipc",
        "--socket=wayland",
        "--socket=fallback-x11",
        "--share=network",
        "--system-talk-name=org.freedesktop.login1",
        "--system-talk-name=org.freedesktop.fwupd"
    ],
    "cleanup": [
        "/include",
        "/lib/pkgconfig",
        "/share/man"
    ],
    "modules": [
        {
            "name": "libxmlb",
            "buildsystem": "meson",
            "config-opts": [
                "-Dintrospection=false",
                "-Dgtkdoc=false",
                "-Dtests=false",
                "-Dstemmer=false",
                "-Dcli=false",
                "--sysconfdir=/app/etc",
                "--localstatedir=/var/data"
            ],
            "sources": [
                {
                    "type": "archive",
                    "url": "https://github.com/hughsie/libxmlb/releases/download/0.3.23/libxmlb-0.3.23.tar.xz",
                    "sha256": "ab86eb2073592448a4e0263ab56e222de092c0a3964b66a8d696cac071c8ee3c",
                    "x-checker-data": {
                        "type": "anitya",
                        "project-id": 179028,
                        "url-template": "https://github.com/hughsie/libxmlb/releases/download/$version/libxmlb-$version.tar.xz"
                    }
                }
            ]
        },
        {
            "name": "libjcat",
            "buildsystem": "meson",
            "config-opts": [
                "-Dintrospection=false",
                "-Dgtkdoc=false",
                "-Dtests=false",
                "-Dcli=false",
                "--sysconfdir=/app/etc",
                "--localstatedir=/var/data"
            ],
            "sources": [
                {
                    "type": "archive",
                    "url": "https://github.com/hughsie/libjcat/releases/download/0.2.3/libjcat-0.2.3.tar.xz",
                    "sha256": "f2f115aad8a8f16b8dde1ed55de7abacb91d0878539aa29b2b60854b499db639",
                    "x-checker-data": {
                        "type": "anitya",
                        "project-id": 229583,
                        "url-template": "https://github.com/hughsie/libjcat/releases/download/$version/libjcat-$version.tar.xz"
                    }
                }
            ]
        },
        {
            "name": "python3-jinja2",
            "buildsystem": "simple",
            "build-commands": [
                "pip3 install --verbose --exists-action=i --no-index --find-links=\"file://${PWD}\" --prefix=${FLATPAK_DEST} \"jinja2\" --no-build-isolation"
            ],
            "sources": [
                {
                    "type": "file",
                    "url": "https://files.pythonhosted.org/packages/b2/97/5d42485e71dfc078108a86d6de8fa46db44a1a9295e89c5d6d4a06e23a62/markupsafe-3.0.2.tar.gz",
                    "sha256": "ee55d3edf80167e48ea11a923c7386f4669df67d7994554387f84e7d8b0a2bf0",
                    "x-checker-data": {
                        "type": "pypi",
                        "name": "markupsafe"
                    }
                },
                {
                    "type": "file",
                    "url": "https://files.pythonhosted.org/packages/df/bf/f7da0350254c0ed7c72f3e33cef02e048281fec7ecec5f032d4aac52226b/jinja2-3.1.6.tar.gz",
                    "sha256": "0137fb05990d35f1275a587e9aee6d56da821fc83491a0fb838183be43f66d6d",
                    "x-checker-data": {
                        "type": "pypi",
                        "name": "jinja2"
                    }
                }
            ]
        },
        {
            "name": "fwupd",
            "buildsystem": "meson",
            "config-opts": [
                "--libdir=/app/lib",
                "-Dbuild=library",
                "-Dfish_completion=false",
                "-Dbash_completion=false",
                "-Dman=false",
                "-Dsystemd=disabled",
                "-Dpassim=disabled",
                "-Ddocs=disabled",
                "-Dtests=false",
                "-Dvendor_ids_dir=/app/share/hwdata"
            ],
            "build-options": {
                "env": {
                    "PYTHONPATH": "/app/utils/lib/python3.12/site-packages:/app/lib/python3.12/site-packages:/usr/lib/python3.12/site-packages"
                }
            },
            "sources": [
                {
                    "type": "archive",
                    "url": "https://github.com/fwupd/fwupd/releases/download/2.0.14/fwupd-2.0.14.tar.xz",
                    "sha256": "3dc0bdc3b23aa7b56c3b4057e323a30db30f38b51c76b93948b1a4b5b2c833f2",
                    "x-checker-data": {
                        "type": "anitya",
                        "project-id": 5833,
                        "url-template": "https://github.com/fwupd/fwupd/releases/download/$version/fwupd-$version.tar.xz"
                    }
                }
            ]
        },
        {
            "name": "gnome-firmware",
            "buildsystem": "meson",
            "config-opts": [
                "-Dman=false"
            ],
            "sources": [
                {
                    "type": "archive",
                    "url": "https://gitlab.gnome.org/World/gnome-firmware/-/archive/47.0/gnome-firmware-47.0.tar.gz",
                    "sha256": "725539dd8ffb505eeb2e26d443c9eb1cf28faf7b1515fffcec946fdc78fa796c",
                    "x-checker-data": {
                        "type": "anitya",
                        "project-id": 27560,
                        "url-template": "https://gitlab.gnome.org/World/gnome-firmware/-/archive/$version/gnome-firmware-$version.tar.gz"
                    }
                }
            ]
        }
    ]
}
