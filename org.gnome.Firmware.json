{
    "app-id": "org.gnome.Firmware",
    "sdk": "org.gnome.Sdk",
    "runtime": "org.gnome.Platform",
    "runtime-version": "48",
    "command": "gnome-firmware",
    "finish-args": [
        "--device=dri",
        "--share=ipc",
        "--socket=wayland",
        "--socket=fallback-x11",
        "--share=network",
        "--system-talk-name=org.freedesktop.login1",
        "--system-talk-name=org.freedesktop.fwupd"
    ],
    "cleanup": [
        "/include",
        "/lib/pkgconfig",
        "/share/man"
    ],
    "modules": [
        {
            "name": "libxmlb",
            "buildsystem": "meson",
            "config-opts": [
                "-Dintrospection=false",
                "-Dgtkdoc=false",
                "-Dtests=false",
                "-Dstemmer=false",
                "-Dcli=false",
                "--sysconfdir=/app/etc",
                "--localstatedir=/var/data"
            ],
            "sources": [
                {
                    "type": "archive",
                    "url": "https://github.com/hughsie/libxmlb/releases/download/0.3.24/libxmlb-0.3.24.tar.xz",
                    "sha256": "ded52667aac942bb1ff4d1e977e8274a9432d99033d86918feb82ade82b8e001",
                    "x-checker-data": {
                        "type": "anitya",
                        "project-id": 179028,
                        "url-template": "https://github.com/hughsie/libxmlb/releases/download/$version/libxmlb-$version.tar.xz"
                    }
                }
            ]
        },
        {
            "name": "libjcat",
            "buildsystem": "meson",
            "config-opts": [
                "-Dintrospection=false",
                "-Dgtkdoc=false",
                "-Dtests=false",
                "-Dcli=false",
                "--sysconfdir=/app/etc",
                "--localstatedir=/var/data"
            ],
            "sources": [
                {
                    "type": "archive",
                    "url": "https://github.com/hughsie/libjcat/releases/download/0.2.4/libjcat-0.2.4.tar.xz",
                    "sha256": "caabf7c2d69493d1fa61982ff6556024cd20440643c2d522f146560ed1d700e3",
                    "x-checker-data": {
                        "type": "anitya",
                        "project-id": 229583,
                        "url-template": "https://github.com/hughsie/libjcat/releases/download/$version/libjcat-$version.tar.xz"
                    }
                }
            ]
        },
        {
            "name": "python3-jinja2",
            "buildsystem": "simple",
            "build-commands": [
                "pip3 install --verbose --exists-action=i --no-index --find-links=\"file://${PWD}\" --prefix=${FLATPAK_DEST} \"jinja2\" --no-build-isolation"
            ],
            "sources": [
                {
                    "type": "file",
                    "url": "https://files.pythonhosted.org/packages/7e/99/7690b6d4034fffd95959cbe0c02de8deb3098cc577c67bb6a24fe5d7caa7/markupsafe-3.0.3.tar.gz",
                    "sha256": "722695808f4b6457b320fdc131280796bdceb04ab50fe1795cd540799ebe1698",
                    "x-checker-data": {
                        "type": "pypi",
                        "name": "markupsafe"
                    }
                },
                {
                    "type": "file",
                    "url": "https://files.pythonhosted.org/packages/df/bf/f7da0350254c0ed7c72f3e33cef02e048281fec7ecec5f032d4aac52226b/jinja2-3.1.6.tar.gz",
                    "sha256": "0137fb05990d35f1275a587e9aee6d56da821fc83491a0fb838183be43f66d6d",
                    "x-checker-data": {
                        "type": "pypi",
                        "name": "jinja2"
                    }
                }
            ]
        },
        {
            "name": "fwupd",
            "buildsystem": "meson",
            "config-opts": [
                "--libdir=/app/lib",
                "-Dbuild=library",
                "-Dfish_completion=false",
                "-Dbash_completion=false",
                "-Dman=false",
                "-Dsystemd=disabled",
                "-Dpassim=disabled",
                "-Ddocs=disabled",
                "-Dtests=false",
                "-Dvendor_ids_dir=/app/share/hwdata"
            ],
            "build-options": {
                "env": {
                    "PYTHONPATH": "/app/utils/lib/python3.12/site-packages:/app/lib/python3.12/site-packages:/usr/lib/python3.12/site-packages"
                }
            },
            "sources": [
                {
                    "type": "archive",
                    "url": "https://github.com/fwupd/fwupd/releases/download/2.0.16/fwupd-2.0.16.tar.xz",
                    "sha256": "79cce6b61d9ea531de0ef3b13e7f2682c699901b11f410b2ed91192618e1620e",
                    "x-checker-data": {
                        "type": "anitya",
                        "project-id": 5833,
                        "url-template": "https://github.com/fwupd/fwupd/releases/download/$version/fwupd-$version.tar.xz"
                    }
                }
            ]
        },
        {
            "name": "gnome-firmware",
            "buildsystem": "meson",
            "config-opts": [
                "-Dman=false"
            ],
            "sources": [
                {
                    "type": "archive",
                    "url": "https://gitlab.gnome.org/World/gnome-firmware/-/archive/47.0/gnome-firmware-47.0.tar.gz",
                    "sha256": "725539dd8ffb505eeb2e26d443c9eb1cf28faf7b1515fffcec946fdc78fa796c",
                    "x-checker-data": {
                        "type": "anitya",
                        "project-id": 27560,
                        "url-template": "https://gitlab.gnome.org/World/gnome-firmware/-/archive/$version/gnome-firmware-$version.tar.gz"
                    }
                }
            ]
        }
    ]
}
